<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>pebble</title>
<style>
html,body,
#Pebble, #CoffeeScript, #JavaScript{
  box-sizing: border-box;
  position: relative;
  height: 100%;
  margin: 0px;
}
#Pebble, #CoffeeScript, #JavaScript{
  float: left;
  width: 33%;
  border: 1px solid black;
}
</style>
</head>
<body>
<textarea id="Pebble">
(def zero 0)

((fn [x] (* x x)) 4)

(def square (fn [x] (* x x)))

(square 2)

(if true  :alway
    false :never
    (alert :default))

(loop [i 0]
  (if (&gt; i 10) i
    (recur
      (do
        (console.log i)
        (+ i 1)))))



</textarea>
<textarea id="CoffeeScript"></textarea>
<textarea id="JavaScript"></textarea>
<script src="./lib/coffee-script.js"></script>
<script src="./bin/pebble.js"></script>
<script type="text/javascript">
(function(){
  window.addEventListener("load", function(){
    var pebbleEl = document.getElementById("Pebble");
    var coffeeEl = document.getElementById("CoffeeScript");
    var jsEl     = document.getElementById("JavaScript");
    pebbleEl.addEventListener("keyup", refresh);
    refresh();
    function refresh(){
      var pebbleCode = pebbleEl.value;
      var coffeeCode = Pebble.coffee(pebbleCode);
      coffeeEl.value = coffeeCode;
      var jsCode     = Pebble.compile(pebbleCode);
      jsEl.value     = jsCode;
      //setTimeout(function(){Pebble.eval(pebbleCode);});
    }
  });
}());
</script>
</body>
</html>